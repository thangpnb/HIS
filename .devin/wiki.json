{
    "repo_notes": [
        {
            "content": "HisNguonMo là phần mềm HIS (Hospital Information System) nguồn mở của Việt Nam, phát hành theo giấy phép GPL v3.0. Ứng dụng chạy trên Windows, viết bằng C# .NET Framework 4.5. Project chia làm 4 module chính: HIS/ (main project + nghiệp vụ plugins), MPS/ (in ấn/báo cáo với 400+ mẫu in), UC/ (131 UI components dùng chung), Common/ (thư viện utilities). Entry point là HIS.Desktop.csproj.",
            "author": "Project Lead"
        },
        {
            "content": "Kiến trúc Plugin-based: Folder HIS/Plugins/ chứa 956 plugins, mỗi plugin là một tính năng nghiệp vụ bệnh viện độc lập. Plugins được phân loại theo prefix: HIS.Desktop.Plugins.* (nghiệp vụ chính), ACS.Desktop.Plugins.* (Access Control), EMR.Desktop.Plugins.* (Electronic Medical Record), LIS.Desktop.Plugins.* (Laboratory), SAR.Desktop.Plugins.* (Reports), SDA.Desktop.Plugins.* (System Data), TYT.Desktop.Plugins.* (Trạm Y Tế).",
            "author": "Technical Lead"
        },
        {
            "content": "Dependencies chính: DevExpress 15.2.9 (UI framework), FlexCell 5.7.6.0 (in ấn/báo cáo Excel), Telerik WinForms (UI controls), Newtonsoft.Json (JSON), EntityFramework (ORM), EO.Pdf/EO.WebBrowser (PDF/web integration), BarTender 10.1.0 (barcode). Cần tải lib_extend.zip từ server riêng trước khi build.",
            "author": "Technical Lead"
        },
        {
            "content": "MPS (Medical Print System) chứa 790+ print processors (MPS.Processor.Mps000xxx) cho các loại biểu mẫu y tế khác nhau: đơn thuốc, phiếu xét nghiệm, hóa đơn, giấy chuyển viện, v.v. Mỗi processor có 2 folder: logic (Mps000xxx) và data object (Mps000xxx.PDO).",
            "author": "Technical Lead"
        },
        {
            "content": "UC (User Controls) chứa 131 reusable UI components được nhúng trong plugins: HIS.UC.Medicine* (thuốc), HIS.UC.Patient* (bệnh nhân), HIS.UC.Icd* (mã bệnh), HIS.UC.Treatment* (điều trị), HIS.UC.Service* (dịch vụ), His.UC.UCHein (bảo hiểm y tế). Mỗi UC là một project riêng biệt.",
            "author": "Technical Lead"
        }
    ],
    "pages": [
        {
            "title": "Architecture Overview",
            "purpose": "Tổng quan kiến trúc hệ thống HIS nguồn mở: cấu trúc 4 module chính (HIS, MPS, UC, Common), cách các module tương tác, plugin architecture, và data flow giữa các tầng. Bao gồm sơ đồ dependencies giữa các projects và solution files (.sln).",
            "page_notes": [
                {
                    "content": "4 solution files chính: HIS/HIS.Desktop.sln (main app), MPS/MPS.sln (print system), UC/HIS.UC.sln (user controls), Common/Inventec.Common.sln. Dependencies flow: Common -> UC -> HIS, MPS được gọi từ HIS để in ấn."
                }
            ]
        },
        {
            "title": "HIS Desktop Core",
            "purpose": "Document HIS/HIS.Desktop/ - entry point của ứng dụng. Bao gồm cách khởi tạo, main form, session management, và cách load plugins. Focus vào các project con như HIS.Desktop.ApiConsumer, HIS.Desktop.Common, HIS.Desktop.Utility, HIS.Desktop.ADO.",
            "parent": "Architecture Overview",
            "page_notes": [
                {
                    "content": "HIS.Desktop chứa 83 files, là entry point. HIS.Desktop.ADO (74 files) chứa data models. HIS.Desktop.Utility (55 files) chứa helper functions. HIS.Desktop.Common chứa shared interfaces và base classes cho plugins."
                }
            ]
        },
        {
            "title": "LocalStorage & Configuration",
            "purpose": "Document các project HIS.Desktop.LocalStorage.* - hệ thống quản lý cấu hình và cache local. Bao gồm ConfigApplication, ConfigSystem, HisConfig, BackendData (69 files), PubSub pattern cho communication giữa các module, SdaConfigKey (30 files).",
            "parent": "HIS Desktop Core",
            "page_notes": [
                {
                    "content": "LocalStorage projects: BackendData (cache API data), ConfigApplication, ConfigSystem, HisConfig, LisConfig, EmrConfig, Branch, Location, PubSub (event communication). SdaConfigKey chứa configuration keys cho system data."
                }
            ]
        },
        {
            "title": "API Consumer Layer",
            "purpose": "Document HIS.Desktop.ApiConsumer/ (13 files) - layer giao tiếp với backend API. Cách gọi REST API, xử lý response, error handling, và authentication flow. Kết hợp với Inventec.Common.WebApiClient.",
            "parent": "HIS Desktop Core"
        },
        {
            "title": "Plugin System Architecture",
            "purpose": "Document kiến trúc plugin trong HIS/Plugins/. Giải thích cách plugin được tổ chức (HIS.Desktop.Plugins.*), cách đăng ký plugin, lifecycle của plugin, và communication pattern giữa plugins qua DelegateRegister và PubSub. Bao gồm HIS.Desktop.Modules.Plugin và HIS.Desktop.Library.CacheClient.",
            "parent": "HIS Desktop Core",
            "page_notes": [
                {
                    "content": "Tổng cộng 956 plugins trong HIS/Plugins/. Mỗi plugin thường có structure: [PluginName].cs (entry), Run/, ADO/, Base/, Properties/. Plugins giao tiếp qua HIS.Desktop.DelegateRegister và HIS.Desktop.LocalStorage.PubSub."
                }
            ]
        },
        {
            "title": "HIS Core Business Plugins",
            "purpose": "Overview các nhóm plugin nghiệp vụ HIS chính: Register (đăng ký khám 81-102 files), Treatment (điều trị 56-101 files), Exam (khám bệnh), Prescription (kê đơn 117-203 files), Tracking (theo dõi 59 files). Các plugin quan trọng: AssignPrescriptionPK (203 files), ServiceExecute (119 files), TreatmentFinish (101 files).",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "Các plugin lớn nhất: AssignPrescriptionPK (203 files) - kê đơn thuốc, AssignPrescriptionCLS (136 files) - chỉ định CLS, AssignPrescriptionKidney (132 files) - lọc thận, ServiceExecute (119 files) - thực hiện dịch vụ, TreatmentFinish (101 files) - kết thúc điều trị."
                }
            ]
        },
        {
            "title": "Transaction & Billing Plugins",
            "purpose": "Document các plugin thanh toán và giao dịch: Transaction, TransactionBill (48 files), TransactionDeposit, TransactionDebt, InvoiceCreate, PharmacyCashier (31 files), DepositRequest (30 files). Xử lý thu tiền, hóa đơn điện tử, công nợ.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "TransactionBill (48 files) - thanh toán viện phí, TransactionBillKiosk (36 files) - kiosk tự động, TransactionDebtCollect (39 files) - thu công nợ, EInvoiceCreate - hóa đơn điện tử, ElectronicBillTotal."
                }
            ]
        },
        {
            "title": "Medicine & Material Plugins",
            "purpose": "Document các plugin quản lý thuốc và vật tư: MedicineType, MaterialType, ExpMest* (xuất kho), ImpMest* (nhập kho 80 files), MediStock* (kho), Bid* (đấu thầu), Import/Export blood. Bao gồm cả MediStockSummary (49 files), MedicalStoreV2 (49 files).",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "ImpMestCreate (80 files) - nhập kho, ExpMestSaleCreate (78 files) - bán thuốc, MediStockSummary (49 files) - tổng hợp kho, MedicalStoreV2 (49 files) - cửa hàng thuốc, BidCreate (47 files) - tạo thầu."
                }
            ]
        },
        {
            "title": "Patient Call & Display Plugins",
            "purpose": "Document các plugin gọi bệnh nhân: CallPatient (nhiều phiên bản V3-V8), CallPatientCLS, CallPatientCashier, CallPatientExam, CallPatientSample. Tích hợp với hệ thống xếp hàng và màn hình hiển thị.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "Nhiều phiên bản CallPatient: V3 (24 files), V4 (32 files), V5 (26 files), V6 (26 files), Ver5 (39 files), Ver7 (25 files). CallPatientTypeAlter (52 files) - thay đổi loại bệnh nhân."
                }
            ]
        },
        {
            "title": "ACS Access Control Plugins",
            "purpose": "Document các plugin ACS (Access Control System): AcsUser (30 files), AcsRole, AcsApplication, AcsModule, AcsControl, AcsRoleUser. Quản lý phân quyền người dùng, vai trò, và module access.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "13 ACS plugins: AcsUser (30 files), AcsRole (25 files), AcsRoleUser (25 files), AcsRoleBase (25 files), AcsApplication (24 files), AcsModule (24 files), AcsModuleGroup (24 files), AcsControl (24 files), ImportAcsRoleUser."
                }
            ]
        },
        {
            "title": "EMR Electronic Medical Record Plugins",
            "purpose": "Document các plugin EMR: EmrDocument (42 files), EmrFlow, EmrSign, EmrSignDocumentList (23 files), EmrBusiness, EmrConfig, EmrDocumentList. Quản lý hồ sơ bệnh án điện tử, ký số, và luồng phê duyệt.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "16 EMR plugins: EmrDocument (42 files), EmrSignDocumentList (23 files), EmrSignerFlow (22 files), EmrFlow (21 files), EmrTreatmentList (21 files), EmrSign (18 files). Tích hợp ký số và luồng phê duyệt."
                }
            ]
        },
        {
            "title": "LIS Laboratory Plugins",
            "purpose": "Document các plugin LIS (Laboratory Information System): LisSample, LisSampleList, LisMachine, LisMachineIndex, LisAntibiotic, LisBacterium, LisSampleCondition (24 files), LisWellPlate. Quản lý xét nghiệm và kết nối máy.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "12 LIS plugins: LisSampleCondition (24 files), LisMachine (24 files), LisMachineIndex (22 files), LisSampleList (21 files), LisSampleUpdate (36 files), LisSampleAggregation (27 files), LisWellPlate (26 files)."
                }
            ]
        },
        {
            "title": "SAR Report Plugins",
            "purpose": "Document các plugin SAR (System of Advanced Reports): SarReportTemplate (38 files), SarPrintType (34 files), SarRetyFofi (28 files), SarPrintList (25 files), SarReportType (23 files). Quản lý mẫu báo cáo và in ấn tùy chỉnh.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "15 SAR plugins: SarReportTemplate (38 files), SarPrintType (34 files), SarRetyFofi (28 files), SarPrintList (25 files), SarReportType (23 files), SarFormField (21 files), SarReport (21 files), SarReportTypeGroup (21 files)."
                }
            ]
        },
        {
            "title": "TYT Commune Health Station Plugins",
            "purpose": "Document các plugin TYT (Trạm Y Tế): TYTFetusExam, TYTFetusBorn, TYTMalaria, TYTTuberculosis, TYTKhh, TYTNerves, TytDeath, TytHiv. Quản lý y tế cơ sở và các chương trình sức khỏe cộng đồng.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "17 TYT plugins cho y tế cơ sở: TytDeath (22 files), TytHiv (22 files), TYTFetusBorn (19 files), TYTTuberculosis (19 files), TYTMalaria (18 files), TYTFetusExam (17 files), TYTGDSK (17 files)."
                }
            ]
        },
        {
            "title": "SDA System Data Plugins",
            "purpose": "Document các plugin SDA (System Data Administration): SdaField (25 files), SdaExecuteSql (26 files), SdaNational (38 files), SdaDistrict, SdaCommune, SdaEthnic, SdaReligion, SdaProvince, SdaHideControl (24 files). Quản lý dữ liệu danh mục hệ thống.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "14 SDA plugins: SdaNational (38 files) - quốc gia, SdaExecuteSql (26 files) - thực thi SQL, SdaField (25 files) - trường dữ liệu, SdaHideControl (24 files) - ẩn controls, SdaModuleField (21 files)."
                }
            ]
        },
        {
            "title": "Library Helper Plugins",
            "purpose": "Document các plugin HIS.Desktop.Plugins.Library.*: PrintBordereau (69 files), PrintOtherForm (94 files), ElectronicBill (101 files), DrugInterventionInfo, TreatmentEndTypeExt (43 files), PrintTreatmentFinish. Các thư viện helper dùng chung.",
            "parent": "Plugin System Architecture",
            "page_notes": [
                {
                    "content": "36 Library plugins: ElectronicBill (101 files) - hóa đơn điện tử, PrintOtherForm (94 files) - in biểu mẫu khác, PrintBordereau (69 files) - in bảng kê, TreatmentEndTypeExt (43 files) - loại kết thúc điều trị."
                }
            ]
        },
        {
            "title": "MPS Print System",
            "purpose": "Document MPS/ - hệ thống in ấn và báo cáo. Bao gồm MPS.ProcessorBase (30 files) - base classes, MPS.Processor/ (790+ processors cho từng loại biểu mẫu Mps000xxx), MPS/ (594 files) - core printing. Integration với FlexCell để xuất Excel/PDF.",
            "parent": "Architecture Overview",
            "page_notes": [
                {
                    "content": "MPS.Processor chứa 790+ folders, mỗi cặp Mps000xxx + Mps000xxx.PDO là một processor. Ví dụ: Mps000001-Mps000499 cho các biểu mẫu y tế khác nhau. MPS.ProcessorBase (30 files) chứa abstract base classes."
                }
            ]
        },
        {
            "title": "Print Processor Development",
            "purpose": "Hướng dẫn tạo print processor mới trong MPS. Cách extend ProcessorBase, define template, binding data với PDO (Print Data Object), và register processor. Cấu trúc: Processor class + PDO class.",
            "parent": "MPS Print System",
            "page_notes": [
                {
                    "content": "Mỗi processor có 2 folders: Mps000xxx (logic, 4-15 files) và Mps000xxx.PDO (data objects, 3-10 files). Processors lớn: Mps000304 (19 files), Mps000321 (17 files), Mps000463 (15 files)."
                }
            ]
        },
        {
            "title": "UC Components Library",
            "purpose": "Document UC/ - thư viện User Controls dùng chung với 131 components. Các UC quan trọng: HIS.UC.FormType (329 files), HIS.UC.ExamTreatmentFinish (103 files), HIS.UC.TreatmentFinish (94 files), His.UC.UCHein (153 files), His.UC.CreateReport (165 files).",
            "parent": "Architecture Overview",
            "page_notes": [
                {
                    "content": "131 UC projects. Lớn nhất: HIS.UC.FormType (329 files), His.UC.CreateReport (165 files), His.UC.UCHein (153 files), HIS.UC.PlusInfo (147 files), HIS.UC.ExamTreatmentFinish (103 files), HIS.UC.TreatmentFinish (94 files)."
                }
            ]
        },
        {
            "title": "Form Type Controls",
            "purpose": "Document HIS.UC.FormType/ (329 files) - hệ thống form types phức tạp nhất trong UC. Giải thích các loại form, cách tạo form mới, và binding patterns. Đây là core component cho tất cả các form nhập liệu.",
            "parent": "UC Components Library"
        },
        {
            "title": "Patient & Treatment UCs",
            "purpose": "Document các UC liên quan đến bệnh nhân và điều trị: HIS.UC.PatientSelect (39 files), HIS.UC.TreatmentFinish (94 files), HIS.UC.ExamTreatmentFinish (103 files), HIS.UC.Hospitalize (53 files), HIS.UC.Death (47 files), HIS.UC.UCPatientRaw (47 files).",
            "parent": "UC Components Library",
            "page_notes": [
                {
                    "content": "UCs bệnh nhân/điều trị: ExamTreatmentFinish (103 files), TreatmentFinish (94 files), Hospitalize (53 files), Death (47 files), UCPatientRaw (47 files), UCHeniInfo (47 files), PatientSelect (39 files), KskContract (59 files)."
                }
            ]
        },
        {
            "title": "Medicine & ICD UCs",
            "purpose": "Document các UC liên quan đến thuốc và mã bệnh: HIS.UC.MedicineType (82 files), HIS.UC.MaterialType (85 files), HIS.UC.Icd (65 files), HIS.UC.SecondaryIcd (61 files), HIS.UC.MedicineInStock, HIS.UC.MaterialInStock.",
            "parent": "UC Components Library",
            "page_notes": [
                {
                    "content": "UCs thuốc/vật tư: MaterialType (85 files), MedicineType (82 files), Icd (65 files), SecondaryIcd (61 files), DHST (54 files), DateEditor (55 files), TreeSereServ7V2 (52 files)."
                }
            ]
        },
        {
            "title": "Service & Room UCs",
            "purpose": "Document các UC liên quan đến dịch vụ và phòng: HIS.UC.ServiceRoom (48 files), HIS.UC.ServiceUnit (48 files), HIS.UC.RoomExamService (40 files), HIS.UC.ServiceRoomInfo (43 files), HIS.UC.Sick (43 files), HIS.UC.National (41 files).",
            "parent": "UC Components Library"
        },
        {
            "title": "Common Libraries",
            "purpose": "Document Common/ - thư viện nền tảng với 12 major components. Bao gồm Inventec.Common/ (46 sub-projects), Inventec.Desktop/ (27 sub-projects), Inventec.UC/ (1060 files), Inventec.Fss.Client, Inventec.WCF, Inventec.Speech, Inventec.DicomViewer (134 files).",
            "parent": "Architecture Overview",
            "page_notes": [
                {
                    "content": "12 major components: Inventec.UC (1060 files), Inventec.Common (890 files), Inventec.Desktop (455 files), Inventec.DicomViewer (134 files), Inventec.DrawTools (86 files), Inventec.Aup.Client (40 files), Inventec.Speech (31 files)."
                }
            ]
        },
        {
            "title": "Inventec Common Utilities",
            "purpose": "Document Common/Inventec.Common/ với 46 utility projects: Logging, DateTime, String, Number, FlexCelPrint (38 files), FlexCelExport (23 files), QRCoder (51 files), ElectronicBill (319 files), RedisCache (26 files), WebApiClient, WordContent (60 files).",
            "parent": "Common Libraries",
            "page_notes": [
                {
                    "content": "46 Inventec.Common projects. Lớn nhất: ElectronicBill (319 files), WordContent (60 files), QRCoder (51 files), FlexCelPrint (38 files), BarcodeLib (32 files), Sqlite (32 files), RedisCache (26 files), WitAI (25 files)."
                }
            ]
        },
        {
            "title": "Inventec Desktop Framework",
            "purpose": "Document Common/Inventec.Desktop/ với 27 projects - framework base cho desktop application. Bao gồm Inventec.Desktop.Core (208 files), CustomControl (26 files), ExportXML (30 files), MenuButton, Plugins.* (ChangePassword, ConfigApplication, EventLog, Updater).",
            "parent": "Common Libraries",
            "page_notes": [
                {
                    "content": "27 Inventec.Desktop projects. Core (208 files) - plugin discovery và lifecycle. 8 base plugins: ChangePassword, ConfigApplication, Deverloper, EventLog, Plugin, PrintLog, ProductVersion, TrackingUser, Updater."
                }
            ]
        },
        {
            "title": "Inventec UC Shared Controls",
            "purpose": "Document Common/Inventec.UC/ (1060 files) - largest common component. Các shared controls cơ bản được sử dụng trong toàn bộ application. Bao gồm TreatmentRecord (29 files), TreeSereServHein (29 files).",
            "parent": "Common Libraries"
        },
        {
            "title": "Data Models & ADO",
            "purpose": "Document HIS.Desktop.ADO/ (74 files) - các data models và Active Data Objects. Cách define model, mapping với backend entities, và sử dụng trong plugins. Kết hợp với EntityFramework.",
            "parent": "HIS Desktop Core"
        },
        {
            "title": "Notification & Events",
            "purpose": "Document HIS.Desktop.Notify/ (25 files) và HIS.Desktop.LocalStorage.PubSub/ (9 files) - hệ thống notification và event handling. Cách subscribe/publish events giữa các modules và plugins. Tích hợp với Inventec.Common.WSPubSub.",
            "parent": "HIS Desktop Core"
        },
        {
            "title": "Build & Development Setup",
            "purpose": "Hướng dẫn setup môi trường phát triển: clone repo, download lib_extend.zip và extend.zip, cấu hình MSBuild, build HIS.Desktop.csproj. Yêu cầu .NET Framework 4.5, DevExpress 15.2.9 license, và các dependencies nguồn đóng. Sử dụng packages/ folder cho NuGet.",
            "parent": "Architecture Overview",
            "page_notes": [
                {
                    "content": "Build command: MSBuild.exe HIS.Desktop.csproj /p:Configuration=Release /p:Platform=AnyCPU. Cần download lib_extend.zip (thư viện) và extend.zip (runtime components) từ server Vietsens. HIS/packages/ chứa 132 NuGet packages."
                }
            ]
        }
    ]
}